(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"1be8":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{attrs:{view:"hHh lpR lff"}},[a("q-header",{attrs:{elevated:""}},[a("q-toolbar",[a("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}),a("q-toolbar-title",[e._v(" "+e._s(e.projectName)+" ")]),e.enableFullScreen?a("q-btn",{attrs:{flat:"",dense:"",round:"",icon:e.fullscreenIcon,"aria-label":"Menu"},on:{click:e.fullscreen}}):e._e(),a("span",[e._v(" "+e._s(e.userName)),a("br"),e._v(e._s(e.authority)+" ")]),a("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"more_vert","aria-label":"Profile"},on:{click:function(t){e.displaySettingsMenu=!e.displaySettingsMenu}}},[a("q-menu",{attrs:{"content-style":{backgroundColor:"#fff",color:"#737373"}}},[a("q-list",{staticStyle:{"min-width":"100px"}},[a("q-item",{attrs:{clickable:""},on:{click:e.profile}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{color:"primary",name:"person"}})],1),a("q-item-section",[e._v("Profile")])],1),a("q-item",{attrs:{clickable:""},on:{click:e.auditLogs}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{color:"primary",name:"track_changes"}})],1),a("q-item-section",[e._v("Audit Logs")])],1),a("q-item",{attrs:{clickable:""},on:{click:e.logout}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{color:"primary",name:"logout"}})],1),a("q-item-section",[e._v("Logout")])],1)],1)],1)],1)],1),e.loading?a("q-linear-progress",{attrs:{indeterminate:"",color:"negative"}}):e._e()],1),a("q-drawer",{staticClass:"bg-primary",attrs:{bordered:"",breakpoint:1024,"content-class":"bg-primary"},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[a("q-list",{staticClass:"bg-primary"},[e._l(e.adventHymnals.essentialLinks,(function(t){return a("EssentialLink",e._b({key:t.title,staticClass:"text-white"},"EssentialLink",t,!1))})),a("q-separator",{attrs:{color:"white"}}),a("q-item",{staticClass:"text-center text-accent"},[a("q-item-section",["web"===e.adventHymnals.platform?a("p",{staticClass:"q-pa-none q-ma-none pSmall"},[e._v("\n            Built with\n            "),a("a",{staticClass:"no-underline",attrs:{href:"https://csycms.csymapp.com",target:"_blank"}},[a("strong",{staticClass:"text-white"},[e._v("csyms")])]),e._v("\n            - A Flat File CMS for node\n          ")]):e._e(),a("p",{staticClass:"pSmall"},[e._v("\n            Copyright Â© 2018 - "+e._s((new Date).getFullYear())+"\n            "),a("a",{staticClass:"no-underline",attrs:{href:"https://www.gospelsounders.org",target:"_blank"}},[a("strong",{staticClass:"text-white"},[e._v("Gospel Sounders Ministry")])])])])],1)],2)],1),a("q-page-container",[!e.booksOpen&&e.adventHymnals.isInstalled?a("router-view",{attrs:{sideBarOpener:e.sideBarOpener,adventHymnals:e.adventHymnals}}):a("listHymnals",{attrs:{adventHymnals:e.adventHymnals}})],1)],1)},s=[],l=a("37c0"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"padding q-pa-md "},[a("q-markdown",{attrs:{extend:e.onExtend}},[e._v("\nSelect Hymnals\n===\nUse this function to select the hymnals that are relevant to you from the vast array of hymnals available. The selections you make will be saved so that you do not have to do this over and over again, unless something very bad happens to your device.\n\nThe hymnals are groups in languages.\n\n            ")]),a("q-page-scroller",{attrs:{position:"bottom-right","scroll-offset":150,offset:[18,18]}},[a("q-btn",{attrs:{fab:"",icon:"keyboard_arrow_up",color:"secondary"}})],1)],1)},i=[],o={name:"explainSelectHymnals",components:{},props:["adventHymnals","sideBarOpener"],data(){return{}},async created(){},methods:{onExtend(e){}},computed:{}},c=o,d=(a("f2ab"),a("2877")),u=a("9989"),m=a("5096"),h=a("9c40"),p=a("eebe"),f=a.n(p),y=Object(d["a"])(c,r,i,!1,null,null,null),g=y.exports;f()(y,"components",{QPage:u["a"],QPageScroller:m["a"],QBtn:h["a"]});var b=a("f96e"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.adventHymnals.loadedHymnals?a("div",{staticClass:"text-white q-pa-none q-ma-none"},e._l(e.hymnalsTree,(function(t,n){return a("q-tree",e._b({key:t.label,ref:"tree",refInFor:!0,staticClass:"text-white",attrs:{nodes:t,"node-key":"label",selected:e.selectedKey,"tick-strategy":e.tickStrategy,ticked:e.ticked[n],expanded:e.expanded,"default-expand-all":"","control-color":"secondary","selected-color":"secondary","text-color":"white",accordion:""},on:{"update:selected":[function(t){e.selectedKey=t},e.selectNode],"update:ticked":[function(t){return e.$set(e.ticked,n,t)},e.changedTicked],"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"default-header",fn:function(t){return[a("div",{staticClass:"row items-center"},[a("div",{staticClass:"text-weight-bold text-white"},[e._v(e._s(t.node.label))])])]}},{key:"default-body",fn:function(t){return[a("span",{staticClass:"text-weight-light text-accent"},[e._v(e._s(t.node.longName))])]}}],null,!0)},"q-tree",e.hymnalsTree,!1))})),1):e._e()},k=[],w=a("36ef"),q=(a("9309"),{components:{hymnal:w["default"]},props:["adventHymnals","selectingHymnalsFor"],name:"selectHymnals",methods:{selectNode(e,t){null!==e&&(this.selected=e);let a=e||this.selected,n=null!==e;for(let l in this.$refs.tree)try{n=this.$refs.tree[l].isTicked(a),this.$refs.tree[l].setTicked(a,!n)}catch(s){}},changedTicked(e){for(let t in this.$refs.tree){let e=this.$refs.tree[t].nodes[0].label,a=this.$refs.tree[t].isExpanded(e);this.$refs.tree[t].setExpanded(e,!a),this.$refs.tree[t].setExpanded(e,a)}this.adventHymnals.saveSelectedHymnals(this.ticked)}},created(){this.hymnalsTree=this.adventHymnals.hymnalsTree,this.ticked=this.adventHymnals.ticked,this.selectedLanguages=this.adventHymnals.selectedLanguages},data(){return{selectedKey:"",expanded:!0,hymnalsTree:{},selectedLanguages:{},selectedHymnals:{},ticked:{},expanded:[],tickStrategy:"leaf"}},watch:{hymnalsTree:{handler(e){},deep:!0}}}),_=q,x=a("7f41"),H=a("3b73"),S=a("4074"),Q=a("8f8e"),C=a("f09f"),O=a("a370"),I=a("1c1c"),$=a("66e5"),L=a("0170"),T=Object(d["a"])(_,v,k,!1,null,null,null),F=T.exports;f()(T,"components",{QTree:x["a"],QExpansionItem:H["a"],QItemSection:S["a"],QCheckbox:Q["a"],QCard:C["a"],QCardSection:O["a"],QList:I["a"],QItem:$["a"],QItemLabel:L["a"]});const E=a("20e6"),M=a("2f1f").default;a("c2a1");var D={name:"adventHymnalsHome",components:{listHymnals:b["a"],EssentialLink:l["a"],explainSelectHymnals:g,selectHymnals:F},data(){return{splitterModel:100,loading:!1,sideBarOpener:this,adventHymnals:M,fullscreenIcon:"fullscreen",enableFullScreen:!0,leftDrawerOpen:!1,booksOpen:!1,userName:"",authority:"",projectName:E.LOGO_NAME,routerView:{template:'<p @click="toggleMsg()">Welcome {{ msg }}!</p>',data(){return{msg:"home"}}}}},async created(){console.log(M.setVue),M.setVue(this);try{M.firstInstall()}catch(e){}await M.fetchHymnals()},methods:{openBooks(){this.leftDrawerOpen=!0,this.booksOpen=!this.booksOpen,this.splitterModel=this.booksOpen?0:100},logout(){window.location.assign("/#/logout")},profile(){window.location.assign("/#/profile")},auditLogs(){window.location.assign("/#/system/audit_logs/"+this.userData.userId+"/logins")},fullscreen(){this.$q.fullscreen.isActive?this.$q.fullscreen.exit().then((()=>{})):this.$q.fullscreen.request().then((()=>{}))},setFullScreenIcon(){this.enableFullScreen&&(this.enableFullScreen=!1,setTimeout((()=>{this.isFullScreen=this.$q.fullscreen.isActive,this.isFullScreen?this.fullscreenIcon="fullscreen_exit":this.fullscreenIcon="fullscreen",this.enableFullScreen=!0}),100))}},watch:{"$q.fullscreen.isActive"(e){this.isFullScreen=this.$q.fullscreen.isActive,this.isFullScreen?this.fullscreenIcon="fullscreen_exit":this.fullscreenIcon="fullscreen"},$route(e,t){try{M.firstInstall()}catch(a){}}}},B=D,N=(a("1e20"),a("4d5a")),A=a("e359"),P=a("65c6"),j=a("6ac5"),K=a("4e73"),V=a("0016"),G=a("6b1d"),J=a("9404"),R=a("05c0"),U=a("eb85"),W=a("8562"),Y=a("09e3"),z=Object(d["a"])(B,n,s,!1,null,null,null);t["default"]=z.exports;f()(z,"components",{QLayout:N["a"],QHeader:A["a"],QToolbar:P["a"],QBtn:h["a"],QToolbarTitle:j["a"],QMenu:K["a"],QList:I["a"],QItem:$["a"],QItemSection:S["a"],QIcon:V["a"],QLinearProgress:G["a"],QDrawer:J["a"],QItemLabel:L["a"],QTooltip:R["a"],QSeparator:U["a"],QSplitter:W["a"],QPageContainer:Y["a"]})},"1e20":function(e,t,a){"use strict";a("6d95")},"6d95":function(e,t,a){},"6da7":function(e,t,a){},f2ab:function(e,t,a){"use strict";a("6da7")}}]);